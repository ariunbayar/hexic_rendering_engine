<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />

<title>Helper</title>
    
<style type="text/css" media="all">
button{
    width: 40px;
    height: 40px;
    margin: 0;
    padding: 0;
}
textarea{
    width: 900px;
    height: 700px;
}
</style>

</head>   
<body>
<textarea></textarea>

<script src="jquery-2.0.3.min.js"></script>
<script type="text/javascript" charset="utf-8">
$(function(){
    var n = 20;
    var pos = {x: n/2 - 1, y: n/2 - 1};
    var i = 1;
    var inc = {x: 1, y: -1};
    var arr = [];
    window.arr = arr;
    for (var y=0; y<n; y++){
        row = []
        for (var x=0; x<n; x++){
            row.push(0);
        }
        arr.push(row);
    }
    while (1) {
        arr[pos.y][pos.x] = i;
        pos.x += inc.x
        pos.y += inc.y

        if (inc.x == 1 && inc.y == -1 && pos.x >= (n/2)) {
            inc.y = 1;
            pos.y += 1;
        }else if (inc.x == 1 && inc.y == 1 && pos.y >= (n/2)) {
            inc.x = -1;
            pos.x -= 1;
        }else if (inc.x == -1 && inc.y == 1 && pos.x <= (n/2 - 1)) {
            inc.y = -1;
            pos.y -= 1;
        }else if (inc.x == -1 && inc.y == -1 && pos.y <= (n/2 - 1)) {
            inc.x = 1;
            //pos.x -= 1;
        }
        if (i++ >= 180) break;
    }
    print_array(arr);
});

function print_array(arr){
    var textarea = $('textarea');
    textarea.val('');
    for (var y=0; y<arr.length; y++){
        values = [];
        for (var x=0; x<arr[y].length; x++){
            l = arr[y][x];
            if (l <= 99 && l >= 10){
                l = ' ' + l;
            }else if (l <= 9){
                l = '  ' + l;
            }
            values.push(l);
        }
        textarea.val(textarea.val() + '[' + values.join(", ") + ']' + '\n\n');
    }
}
</script>
</body>
</html>
